<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Mojo Executor : The Mojo Executor provides a way to to execute other Mojos (plugins) within a Maven plugin, allowing you to easily create Maven plugins that are composed of other plugins. " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Mojo Executor</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/TimMoore/mojo-executor">View on GitHub</a>

          <h1 id="project_title">Mojo Executor</h1>
          <h2 id="project_tagline">The Mojo Executor provides a way to to execute other Mojos (plugins) within a Maven plugin, allowing you to easily create Maven plugins that are composed of other plugins. </h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/TimMoore/mojo-executor/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/TimMoore/mojo-executor/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>The Mojo Executor provides a way to to execute other Mojos (plugins) within a Maven plugin, allowing you to easily create Maven plugins that are composed of other plugins.</p>

<h1>Downloads</h1>

<p>You can download the jars, source, and javadocs from Maven central:</p>

<p><a href="http://repo2.maven.org/maven2/org/twdata/maven/mojo-executor/">http://repo2.maven.org/maven2/org/twdata/maven/mojo-executor/</a></p>

<h1>Example Usage</h1>

<p>This is how you would execute the "copy-dependencies" goal of the Maven Dependency Plugin programmatically:</p>

<div class="highlight"><pre><span class="n">executeMojo</span><span class="o">(</span>
    <span class="n">plugin</span><span class="o">(</span>
        <span class="n">groupId</span><span class="o">(</span><span class="s">"org.apache.maven.plugins"</span><span class="o">),</span>
        <span class="n">artifactId</span><span class="o">(</span><span class="s">"maven-dependency-plugin"</span><span class="o">),</span>
        <span class="n">version</span><span class="o">(</span><span class="s">"2.0"</span><span class="o">)</span>
    <span class="o">),</span>
    <span class="n">goal</span><span class="o">(</span><span class="s">"copy-dependencies"</span><span class="o">),</span>
    <span class="n">configuration</span><span class="o">(</span>
        <span class="n">element</span><span class="o">(</span><span class="n">name</span><span class="o">(</span><span class="s">"outputDirectory"</span><span class="o">),</span> <span class="s">"${project.build.directory}/foo"</span><span class="o">)</span>
    <span class="o">),</span>
    <span class="n">executionEnvironment</span><span class="o">(</span>
        <span class="n">project</span><span class="o">,</span>
        <span class="n">session</span><span class="o">,</span>
        <span class="n">pluginManager</span>
    <span class="o">)</span>
<span class="o">);</span>
</pre></div>

<p>The project, session, and pluginManager variables should be injected via the normal Mojo injection:</p>

<div class="highlight"><pre><span class="cm">/**</span>
<span class="cm"> * The project currently being build.</span>
<span class="cm"> *</span>
<span class="cm"> * @parameter expression="${project}"</span>
<span class="cm"> * @required</span>
<span class="cm"> * @readonly</span>
<span class="cm"> */</span>
<span class="kd">private</span> <span class="n">MavenProject</span> <span class="n">mavenProject</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * The current Maven session.</span>
<span class="cm"> *</span>
<span class="cm"> * @parameter expression="${session}"</span>
<span class="cm"> * @required</span>
<span class="cm"> * @readonly</span>
<span class="cm"> */</span>
<span class="kd">private</span> <span class="n">MavenSession</span> <span class="n">mavenSession</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * The Maven BuildPluginManager component.</span>
<span class="cm"> *</span>
<span class="cm"> * @component</span>
<span class="cm"> * @required</span>
<span class="cm"> */</span>
<span class="kd">private</span> <span class="n">BuildPluginManager</span> <span class="n">pluginManager</span><span class="o">;</span>
</pre></div>

<p>You might need to add other annotations to your Mojo class, depending on the needs of your plugin. Annotations declared by Mojos that you execute are <em>not</em> automatically inherited by your enclosing Mojo.</p>

<p>For example, if you are using the <code>maven-dependency-plugin</code>, as in this example, you will need to add <code>@requiresDependencyResolution &lt;scope&gt;</code> to your class annotations to ensure that Maven resolves the project dependencies before invoking your plugin.</p>

<p>See the <a href="http://maven.apache.org/developers/mojo-api-specification.html">Mojo API Specification</a> for details on available annotations. Look at the included <a href="mojo-executor-maven-plugin/">example plugin</a> for an example of use.</p>

<h1>Maven Dependency</h1>

<p>Add this to your pom.xml:</p>

<div class="highlight"><pre><span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.twdata.maven<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>mojo-executor<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>2.0<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>

<p>There are a few versions available, and the best one to use will depend on the version(s) of Maven you need to support:</p>

<ul>
<li>1.0.1 — Supports Maven 2.x only</li>
<li>1.5   — Supports both Maven 2.x and Maven 3.x</li>
<li>2.0   — Supports Maven 3.x only</li>
</ul><h1>License</h1>

<p>Copyright 2008-2013 Don Brown</p>

<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>

<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>

<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>

<h1>Contributors</h1>

<p>Mojo Executor was originally created by <a href="https://github.com/mrdon">Don Brown</a> (<a href="mailto:mrdon@twdata.org">mrdon@twdata.org</a>).</p>

<p>It is currently maintained by <a href="https://github.com/TimMoore/">Tim Moore</a> (<a href="mailto:tmoore@incrementalism.net">tmoore@incrementalism.net</a>).</p>

<p>Thanks to the following contributors, who have provided patches and other assistance:</p>

<ul>
<li>  <a href="https://github.com/matthewmccullough">Matthew McCullough</a>
</li>
<li>  Gili Tzabari (<a href="mailto:cowwoc@bbs.darktech.org">cowwoc@bbs.darktech.org</a>) — Maven 3 support</li>
<li>  <a href="https://github.com/josephw">Joseph Walton</a> — support for both Maven 2 and Maven 3 in the same artifact</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Mojo Executor maintained by <a href="https://github.com/TimMoore">TimMoore</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
